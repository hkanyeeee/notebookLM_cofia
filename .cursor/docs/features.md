## Python 后端服务特性

这是一个基于 FastAPI 构建的 Python 服务，提供以下两个核心功能：

### 1. 内容摄取 (`/ingest` API)

- **接收网址**: 支持通过 API 传入一个或多个网址。
- **内容处理**:
    - 异步抓取每个网址的 HTML 内容。
    - 从 HTML 中提取纯文本。
    - 将长文本分割成更小的、适合处理的文本块 (chunks)。
- **向量化与存储**:
    - 调用外部的 Embedding 服务，将文本块转换为向量。
    - 将文本块内容及其对应的向量存入向量数据库 (Vector DB) 中，并记录来源 URL。

### 2. 查询与回答 (`/query` API)

- **接收查询**: 接收用户的自然语言查询。
- **向量检索**:
    - 将用户的查询文本向量化。
    - 在向量数据库中执行相似度搜索，召回一批相关的文本块。
- **重排序 (Rerank)**:
    - (可选) 如果配置了 Reranker 服务，将对初步召回的结果进行智能重排序，以提升最相关内容的排序。
    - 为了处理大量召回内容，会自动分批次进行重排序。
- **答案生成**:
    - 将经过重排序后最相关的文本块作为上下文 (Context)。
    - 把原始查询和上下文信息一同发送给一个大型语言模型 (LLM)。
- **返回结果**:
    - LLM 根据上下文总结并生成问题的答案。
    - 在返回答案的同时，提供相关内容的来源信息（例如，原始 URL 和具体文本块）。
